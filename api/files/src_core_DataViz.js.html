<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src\core\DataViz.js - M3.Charting</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.7.0/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="stylesheet" href="../assets/css/custom.css">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap-responsive.css">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <style>
        .method .name code {
            font-size: 14px;
        }
        .method .args code, .method .params .param-name {
            font-size: 12px;
        }
    </style>
</head>
<body class="yui3-skin-sam">
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <h1 class="brand" style="padding: 10px 16px 10px; height: 20px; line-height: 20px; margin-left: 0;">
        
	    <img alt="M3.Charting" src="../assets/css/logo.png" style="max-height: 65%;" title="M3.Charting">
        
            M3.Charting
        </h1>
	<div class="nav">
            <li class="divider-vertical"></li>
            <li>
                <p class="navbar-text">
                    API Docs for Version: <b>0.5.0</b>
                </p>
            </li>
        </div>
        <form class="navbar-form pull-right" style="line-height: 40px; height: 40px;">
            <input style="margin-top: 0;" type="text" class="search-query" placeholder="Search for classes/modules..." data-obj='["classes/AreaChart", "classes/Axis", "classes/ColumnChart", "classes/DonutChart", "classes/LineChart", "classes/M3.AbstractCartesianChart", "classes/M3.AbstractChart", "classes/M3.AbstractPolarChart", "classes/M3.Axis.AxisItem", "classes/M3.Axis.AxisManager", "classes/M3.Axis.CategoryAxis", "classes/M3.Axis.CategoryPointsAxis", "classes/M3.Axis.LinealAxis", "classes/M3.Axis.Stacked100Axis", "classes/M3.Axis.StackedAxis", "classes/M3.Chart", "classes/M3.DataViz", "classes/M3.Series.AreaSerie", "classes/M3.Series.ChartSerie", "classes/M3.Series.ColumnSerie", "classes/M3.Series.GroupColumnSerie", "classes/M3.Series.StackedAreaSerie", "classes/M3.Series.StackedSerie", "classes/PieChart", "classes/Series", "classes/StackedAreaChart", "classes/StackedColumnChart", "modules/M3", "modules/M3.Axis", "modules/M3.Series"]'>
        </form>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="span3">
	    <div>
    <h3>APIs</h3>
    <div id="sidebar">
        <ul id="main-nav" class="nav nav-tabs" style="margin-bottom:0;">
            <li class="active"><a href="#classes" data-toggle="tab">Classes</a></li>
            <li><a href="#modules" data-toggle="tab">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" placeholder="Type to filter APIs">
        </div>

        <div class="tab-content" style="border: 1px solid #DDD; border-top:0;">
            <div class="tab-pane active" id="classes">
                <ul id="api-classes" class="nav nav-list">
                    
                        <li><a href="../classes/AreaChart.html">AreaChart</a></li>
                    
                        <li><a href="../classes/Axis.html">Axis</a></li>
                    
                        <li><a href="../classes/ColumnChart.html">ColumnChart</a></li>
                    
                        <li><a href="../classes/DonutChart.html">DonutChart</a></li>
                    
                        <li><a href="../classes/LineChart.html">LineChart</a></li>
                    
                        <li><a href="../classes/M3.AbstractCartesianChart.html">M3.AbstractCartesianChart</a></li>
                    
                        <li><a href="../classes/M3.AbstractChart.html">M3.AbstractChart</a></li>
                    
                        <li><a href="../classes/M3.AbstractPolarChart.html">M3.AbstractPolarChart</a></li>
                    
                        <li><a href="../classes/M3.Axis.AxisItem.html">M3.Axis.AxisItem</a></li>
                    
                        <li><a href="../classes/M3.Axis.AxisManager.html">M3.Axis.AxisManager</a></li>
                    
                        <li><a href="../classes/M3.Axis.CategoryAxis.html">M3.Axis.CategoryAxis</a></li>
                    
                        <li><a href="../classes/M3.Axis.CategoryPointsAxis.html">M3.Axis.CategoryPointsAxis</a></li>
                    
                        <li><a href="../classes/M3.Axis.LinealAxis.html">M3.Axis.LinealAxis</a></li>
                    
                        <li><a href="../classes/M3.Axis.Stacked100Axis.html">M3.Axis.Stacked100Axis</a></li>
                    
                        <li><a href="../classes/M3.Axis.StackedAxis.html">M3.Axis.StackedAxis</a></li>
                    
                        <li><a href="../classes/M3.Chart.html">M3.Chart</a></li>
                    
                        <li><a href="../classes/M3.DataViz.html">M3.DataViz</a></li>
                    
                        <li><a href="../classes/M3.Series.AreaSerie.html">M3.Series.AreaSerie</a></li>
                    
                        <li><a href="../classes/M3.Series.ChartSerie.html">M3.Series.ChartSerie</a></li>
                    
                        <li><a href="../classes/M3.Series.ColumnSerie.html">M3.Series.ColumnSerie</a></li>
                    
                        <li><a href="../classes/M3.Series.GroupColumnSerie.html">M3.Series.GroupColumnSerie</a></li>
                    
                        <li><a href="../classes/M3.Series.StackedAreaSerie.html">M3.Series.StackedAreaSerie</a></li>
                    
                        <li><a href="../classes/M3.Series.StackedSerie.html">M3.Series.StackedSerie</a></li>
                    
                        <li><a href="../classes/PieChart.html">PieChart</a></li>
                    
                        <li><a href="../classes/Series.html">Series</a></li>
                    
                        <li><a href="../classes/StackedAreaChart.html">StackedAreaChart</a></li>
                    
                        <li><a href="../classes/StackedColumnChart.html">StackedColumnChart</a></li>
                    
                </ul>
            </div>

            <div class="tab-pane" id="modules">
                <ul id="api-modules" class="nav nav-list">
                    
                        <li><a href="../modules/M3.html">M3</a></li>
                    
                        <li><a href="../modules/M3.Axis.html">M3.Axis</a></li>
                    
                        <li><a href="../modules/M3.Series.html">M3.Series</a></li>
                    
                </ul>
            </div>
        </div>
    </div>
</div>

        </div>
        <div class="span9">
                <form id="options-form" class="form-inline pull-right">
        Show:
        <label for="api-show-inherited" class="checkbox">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected" class="checkbox">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private" class="checkbox">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated" class="checkbox">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </form>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <div class="page-header">
    <h1>src\core\DataViz.js <small>File</small></h1>
</div>

<div class="file">
    <pre class="prettyprint linenums">
(function() {
    &quot;use strict&quot;;
    /**
    Base class for datavisualizations
    
    @class M3.DataViz
    @constructor
    @module M3
    */
    M3.DataViz = M3.DataViz || M3CreateClass(Object);
    
    /**
    Config properties storage.
    @property config
    */
    M3.DataViz.prototype.config = null;
    
    /**
    Data to represent on the datavisualization.
    @property data
    */
    M3.DataViz.prototype.data = null;
    /**
    List of behavirours
    @property data
    */
    M3.DataViz.prototype.behaviours = null;
    
    /**
    Set the config properties
    
    Default values
    &lt;table&gt;
        &lt;thead&gt;
            &lt;tr&gt;&lt;th&gt;Property&lt;/th&gt;&lt;th&gt;Default&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;
            &lt;tr&gt;&lt;td&gt;margin&lt;/td&gt;&lt;td&gt;{top: 5, bottom: 5, left: 5, right:5, all:NaN}&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
            &lt;tr&gt;&lt;td&gt;width&lt;/td&gt;&lt;td&gt;200&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
            &lt;tr&gt;&lt;td&gt;margin&lt;/td&gt;&lt;td&gt;100&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
            &lt;tr&gt;&lt;td&gt;container&lt;/td&gt;&lt;td&gt;#chartContainer&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
            &lt;tr&gt;&lt;td&gt;styles&lt;/td&gt;&lt;td&gt;{container:&quot;m3&quot; canvas:&quot;canvas&quot; }&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    
    Other properties are calculated on runtime.
    
    If you set margin.all = 15, so margin.left, margin.right, margin.bottom and margin.top are setted to 15.
    
    With the properties width/height/margin are calculated canvasWidth and canvasHeight. The first is Widh - (margin.left + margin.right)
    and the second is the result of height - (margin.top - margin.bottom).
    
    @method setConfig
    @chainable
    @param conf {Object} object with properties
    @return Instance reference
    */
    M3.DataViz.prototype.setConfig = function(conf) {
        var defaults = {
            margin: {
                top:5, bottom:5, left:5, right:5, all:NaN
            },
            width:200,
            height:100,
            container:&quot;#chartContainer&quot;,
            styles: {
                container: &quot;m3&quot;,
                canvas:&quot;canvas&quot;
            }
        };
        
        var ret = M3.extend(defaults, conf);
        
        if(conf !== undefined &amp;&amp; conf !== null) {
            if(conf.margin !== undefined &amp;&amp; conf.margin !== null) {
                var margin = +conf.margin.all;
                if(!isNaN(margin) &amp;&amp; typeof(margin) == &quot;number&quot;) {
                    ret.margin.top = ret.margin.bottom = ret.margin.left = ret.margin.right = conf.margin.all;
                }
            }
        }
        ret.canvasWidth = ret.width - (ret.margin.left + ret.margin.right);
        ret.canvasHeight = ret.height - (ret.margin.top + ret.margin.bottom);
        
        this.config = ret;
        return this;
    };
    
    /**
    Set data to viz
    @method data
    @chainable
    @param data {Array}
    */
    M3.DataViz.prototype.setData = function(value) {
        this.data = value;
        return this;
    };
    
    /**
    Draw the datavisualization.

    @method draw
    @param [data] {Array}
    @param [config] {Object}
    @chainable
    */
    M3.DataViz.prototype.draw = function(data, config) {
        if(config !== undefined) { this.setConfig(config); }
        if(data !== undefined) { this.setData(data); }
        this.beforeDraw();
        this.drawContainer().drawCanvas();
        this.drawInner();
        this.afterDraw();
        
        if(this.behaviours !==  null) {
            for(var i = 0; i &lt; this.behaviours.length; i++) {
                if(this.behaviours[i] !== undefined &amp;&amp; this.behaviours[i] !== null) {
                    this.behaviours[i].run(this);
                }
            }
        }
        return this;
    };
    
    /**
    Draw the data
    
    @method drawInner
    @chainable
    @protected
    */
    M3.DataViz.prototype.drawInner = function() {
        return this;
    };
    
    /**
    Add a viz container (a.k.a SVG element)
    
    @method drawContainer
    @chainable
    @protected
    */
    M3.DataViz.prototype.drawContainer = function() {
        var elem = d3.select(this.config.container).append(&quot;svg&quot;)
            .attr(&quot;class&quot;, this.config.styles.container)
            .attr(&quot;width&quot;, this.config.width)
            .attr(&quot;height&quot;, this.config.height);
        elem.append(&quot;rect&quot;)
            .attr(&quot;width&quot;, this.config.width)
            .attr(&quot;height&quot;, this.config.height)
            .attr(&quot;class&quot;, &quot;background&quot;);
            /*.attr(&quot;stroke&quot;, &quot;#000000&quot;)
            .attr(&quot;stroke-width&quot;, 0.1)
            .attr(&quot;fill&quot;, &quot;#EEEEEE&quot;);*/
        return this;
    };
    
    /**
    Draw the &quot;g&quot; element into &quot;svg&quot; (container) as canvas to draw the viz.
    
    @method drawCanvas
    @chainable
    @protected
    */
    M3.DataViz.prototype.drawCanvas = function() {
        var elem = d3.select(this.config.container + &quot; .&quot; + this.config.styles.container).append(&quot;g&quot;)
                    .attr(&quot;class&quot;, this.config.styles.canvas)
                    .attr(&quot;transform&quot;, &quot;translate(&quot; + this.config.margin.top + &quot;, &quot; + this.config.margin.left + &quot;)&quot;)
                    .attr(&quot;width&quot;, this.config.canvasWidth)
                    .attr(&quot;height&quot;, this.config.canvasHeight);
        elem.append(&quot;rect&quot;)
            .attr(&quot;width&quot;, this.config.canvasWidth)
            .attr(&quot;height&quot;, this.config.canvasHeight)
            .attr(&quot;class&quot;, &quot;background&quot;);
            //.attr(&quot;fill&quot;, &quot;blue&quot;);
        return this;
    };
    
    /**
    Execute some code before to draw (a.k.a before to start to create the svg object)
    
    @method beforeDraw
    @protected
    */
    M3.DataViz.prototype.beforeDraw = function() {
    };
    
    /**
    Execute some code ufter to draw (a.k.a ufter to create all svg of datavisualization)
    
    @method afterDraw
    @protected
    */
    M3.DataViz.prototype.afterDraw = function() {
    };
})();

    
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/jquery/jquery-1.8.2.min.js"></script>
<script src="../assets/vendor/bootstrap/js/bootstrap.js"></script>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script src="../assets/js/yuidoc-bootstrap.js"></script>
<script>prettyPrint();</script>
</body>
</html>
